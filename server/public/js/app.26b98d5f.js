(function(t){function e(e){for(var o,a,i=e[0],c=e[1],l=e[2],u=0,f=[];u<i.length;u++)a=i[u],r[a]&&f.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},s=[];function a(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ca5c6f53"}[t]+".js"}function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=o);var s,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=a(t),s=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+s+")");a.type=o,a.request=s,n[1](a)}r[t]=void 0}};var u=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,c.appendChild(l)}return Promise.all(e)},i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05b0":function(t,e,n){},"17ea":function(t,e,n){"use strict";var o=n("31b8"),r=n.n(o);r.a},2856:function(t,e,n){},"2cfd":function(t,e,n){"use strict";var o=n("e3a0"),r=n.n(o);r.a},"31b8":function(t,e,n){},4242:function(t,e,n){},"44e6":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d"),n("bf40");var o=n("31bd"),r=n("ce5b"),s=n.n(r),a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Toolbar"),n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n      "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("transition",{attrs:{name:"slide-fade"}},[n("router-view")],1)],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{color:"blue",dark:"",fixed:""}},[n("v-toolbar-title",{staticClass:"mr-4"},[t._v("VUE TODO")]),n("v-toolbar-items",[t.isLoggedIn?n("v-btn",{attrs:{flat:""}},[n("v-icon",{staticClass:"mr-2"},[t._v("playlist_add_check")]),t._v("\n        Projects\n    ")],1):t._e()],1),n("v-spacer"),n("v-toolbar-items",[t.isLoggedIn?t._e():n("v-btn",{attrs:{flat:"",to:"/register"}},[n("v-icon",{staticClass:"mr-2"},[t._v("account_box")]),t._v("\n        Register\n    ")],1),t.isLoggedIn?t._e():n("v-btn",{attrs:{flat:"",to:"/login"}},[n("v-icon",{staticClass:"mr-2"},[t._v("fingerprint")]),t._v("\n        Login\n    ")],1),t.isLoggedIn?n("v-btn",{attrs:{flat:""},on:{click:function(e){t.logout()}}},[n("v-icon",{staticClass:"mr-2"},[t._v("exit_to_app")]),t._v("\n        Logout\n    ")],1):t._e()],1)],1)},u=[],d=n("c93e"),f=n("2f62"),p={computed:Object(d["a"])({},Object(f["c"])("authentication",["isLoggedIn"])),methods:Object(d["a"])({},Object(f["b"])("authentication",["logout"]))},v=p,m=(n("60f8"),n("2877")),b=Object(m["a"])(v,l,u,!1,null,null,null);b.options.__file="Toolbar.vue";var g=b.exports,j={components:{Toolbar:g}},h=j,k=(n("5c0b"),Object(m["a"])(h,i,c,!1,null,null,null));k.options.__file="App.vue";var _=k.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"white elevation-2"},[n("v-toolbar",{attrs:{flat:"",dense:"",dark:"",color:"blue"}},[n("v-toolbar-title",[t._v("\n            "+t._s(t.title)+"\n        ")])],1),n("div",{staticClass:"pl-4 pr-4 pt-2 pb-2"},[t._t("default",[t._v("No slot content defined.")])],2)],1)},E=[],w={props:{title:String}},O=w,x=(n("645c"),Object(m["a"])(O,P,E,!1,null,null,null));x.options.__file="Panel.vue";var C=x.exports,T=n("8c4f"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{md4:"",xs12:""}},[n("Projects")],1),t.currentProject?n("v-flex",{attrs:{md8:"",xs12:""}},[n("Tasks")],1):t._e()],1)],1)},M=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{attrs:{title:"Projects"}},[t._l(t.projects,function(e,o){return n("div",{key:e.id,staticClass:"mt-2 project",class:{active:t.activeIndex===o},on:{click:function(e){t.setActive(o)}}},[n("EditableRecord",{staticClass:"project__inner",attrs:{isEditMode:e.isEditMode,title:e.title},on:{onInput:function(n){t.setProjectTitle({project:e,title:n})},onClick:function(n){t.projectClicked(e)},onEdit:function(n){t.setEditMode(e)},onSave:function(n){t.saveProject(e)},onDelete:function(n){t.deleteProject(e)}}})],1)}),n("CreateRecord",{attrs:{placeholder:"My project name...",value:t.newProjectName},on:{onInput:t.setNewProjectName,create:t.createProject}})],2)},L=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"mt-4",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"pr-3",attrs:{xs12:"",lg8:"",xl9:""}},[n("v-text-field",{attrs:{placeholder:t.placeholder,value:t.value},on:{input:function(e){t.$emit("onInput",e)}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("create")}}})],1),n("v-flex",{staticClass:"mb-2",attrs:{xs12:"",lg4:"",xl3:""}},[n("v-btn",{staticClass:"blue create-btn",attrs:{dark:""},on:{click:function(e){t.$emit("create")}}},[n("v-icon",{staticClass:"mr-2"},[t._v("add_circle")]),t._v("\n        Create\n    ")],1)],1)],1)},$=[],I={props:["placeholder","value"]},S=I,A=(n("da8b"),Object(m["a"])(S,R,$,!1,null,null,null));A.options.__file="CreateRecord.vue";var D=A.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"mt-3",attrs:{row:"",wrap:""}},[n("v-flex",{staticClass:"text-xs-left pr-4",attrs:{md9:""}},[t._t("default"),t.isEditMode?t._e():n("div",{staticClass:"title",on:{click:function(e){t.$emit("onClick")}}},[t._v("\n      "+t._s(t.title)+"\n    ")]),t.isEditMode?n("v-text-field",{attrs:{value:t.title,autofocus:""},on:{input:function(e){t.$emit("onInput",e)}},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("onSave")}}}):t._e()],2),n("v-flex",{staticClass:"text-xs-right",attrs:{md3:""}},[t.isEditMode?t._e():n("v-icon",{on:{click:function(e){t.$emit("onEdit")}}},[t._v("\n      edit\n    ")]),t.isEditMode?n("v-icon",{on:{click:function(e){t.$emit("onSave")}}},[t._v("\n      check\n    ")]):t._e(),n("v-icon",{staticClass:"ml-3",on:{click:function(e){t.$emit("onDelete")}}},[t._v("\n      delete\n    ")])],1)],1)},F=[],B={props:["isEditMode","title","active","record"]},J=B,q=(n("c93e2"),Object(m["a"])(J,U,F,!1,null,null,null));q.options.__file="EditableRecord.vue";var z=q.exports,H={components:{CreateRecord:D,EditableRecord:z},mounted:function(){this.fetchProjects()},data:function(){return{isActive:!1,activeIndex:void 0}},computed:Object(d["a"])({},Object(f["e"])("projects",["newProjectName","projects"])),methods:Object(d["a"])({projectClicked:function(t){this.setCurrentProject(t),this.fetchTasksForProject(t)},setActive:function(t){this.activeIndex=t}},Object(f["d"])("projects",["setEditMode","setProjectTitle","setNewProjectName","setCurrentProject"]),Object(f["b"])("projects",["createProject","fetchProjects","saveProject","deleteProject"]),Object(f["b"])("tasks",["fetchTasksForProject"]))},V=H,G=(n("f6ca"),Object(m["a"])(V,N,L,!1,null,null,null));G.options.__file="Projects.vue";var K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Panel",{staticClass:"panel",attrs:{title:"Tasks"}},[t._l(t.tasks,function(e){return n("div",{key:e.id,staticClass:"task"},[n("EditableRecord",{staticClass:"task__inner",class:e.completed?"completed":"",attrs:{isEditMode:e.isEditMode,title:e.description},on:{onInput:function(n){t.setTaskDescription({task:e,description:n})},onClick:function(n){t.checkClicked(e)},onEdit:function(n){t.setEditMode(e)},onSave:function(n){t.saveTask(e)},onDelete:function(n){t.deleteTask(e)}}},[n("v-icon",{staticClass:"mr-2",on:{click:function(n){t.checkClicked(e)}}},[t._v("\n        "+t._s(e.completed?"check_box":"check_box_outline_blank")+"\n      ")])],1)],1)}),n("CreateRecord",{attrs:{placeholder:"I need to...",value:t.newTaskName},on:{onInput:t.setNewTaskName,create:t.createTask}})],2)},W=[],X={components:{CreateRecord:D,EditableRecord:z},computed:Object(d["a"])({},Object(f["e"])("tasks",["tasks","newTaskName"])),methods:Object(d["a"])({},Object(f["b"])("tasks",["createTask","deleteTask","saveTask"]),Object(f["d"])("tasks",["setNewTaskName","setEditMode","setTaskDescription","toggleCompleted"]),{checkClicked:function(t){this.toggleCompleted(t),this.saveTask(t)}})},Y=X,Z=(n("17ea"),Object(m["a"])(Y,Q,W,!1,null,null,null));Z.options.__file="Tasks.vue";var tt=Z.exports,et={components:{Projects:K,Tasks:tt},mounted:function(){if(!this.isLoggedIn)return gt.push("/login")},computed:Object(d["a"])({},Object(f["e"])("projects",["currentProject"]),Object(f["c"])("authentication",["isLoggedIn"]))},nt=et,ot=(n("df48"),Object(m["a"])(nt,y,M,!1,null,"724ad010",null));ot.options.__file="Projects.vue";var rt=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{sm6:"","offset-sm3":""}},[n("div",[n("h1",[t._v("Register")]),n("v-text-field",{attrs:{label:"Email",placeholder:"Email",value:t.registerEmail},on:{input:t.setRegisterEmail}}),n("v-text-field",{attrs:{label:"Password",placeholder:"Password",type:"password",autocomplete:"new-password",value:t.registerPassword},on:{input:t.setRegisterPassword}}),n("v-alert",{attrs:{type:"error",value:t.registerError}},[t._v("\n                "+t._s(t.registerError)+"\n                ")]),n("v-btn",{staticClass:"mt-4",attrs:{color:"blue",dark:""},on:{click:t.register}},[n("v-icon",{staticClass:"mr-2"},[t._v("account_circle")]),t._v("\n                    Register\n                ")],1)],1)])],1)],1)},at=[],it={computed:Object(d["a"])({},Object(f["e"])("authentication",["registerEmail","registerPassword","registerError"])),methods:Object(d["a"])({},Object(f["d"])("authentication",["setRegisterEmail","setRegisterPassword"]),Object(f["b"])("authentication",["register"]))},ct=it,lt=(n("2cfd"),Object(m["a"])(ct,st,at,!1,null,null,null));lt.options.__file="Register.vue";var ut=lt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{sm6:"","offset-sm3":""}},[n("div",[n("h1",[t._v("Login")]),n("v-text-field",{attrs:{label:"Email",placeholder:"Email",value:t.loginEmail},on:{input:t.setLoginEmail}}),n("v-text-field",{attrs:{label:"Password",placeholder:"Password",type:"password",autocomplete:"new-password",value:t.loginPassword},on:{input:t.setLoginPassword}}),n("v-alert",{attrs:{type:"error",value:t.loginError}},[t._v("\n                "+t._s(t.loginError)+"\n                ")]),n("v-btn",{staticClass:"mt-4",attrs:{color:"blue",dark:""},on:{click:t.login}},[n("v-icon",{staticClass:"mr-2"},[t._v("fingerprint")]),t._v("\n                    Login\n                ")],1)],1)])],1)],1)},ft=[],pt={computed:Object(d["a"])({},Object(f["e"])("authentication",["loginEmail","loginPassword","loginError"])),methods:Object(d["a"])({},Object(f["d"])("authentication",["setLoginEmail","setLoginPassword"]),Object(f["b"])("authentication",["login"]))},vt=pt,mt=(n("d6db"),Object(m["a"])(vt,dt,ft,!1,null,null,null));mt.options.__file="Login.vue";var bt=mt.exports;a["default"].use(T["a"]);var gt=new T["a"]({routes:[{path:"/",name:"projects",component:rt},{path:"/register",name:"register",component:ut},{path:"/login",name:"login",component:bt},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),jt=n("0e44"),ht=n("bc3a"),kt=n.n(ht),_t=function(){return kt.a.create({baseURL:Ot.state.baseUrl,timeout:5e3,headers:{Authorization:"Bearer ".concat(Ot.state.authentication.token)}})},Pt={namespaced:!0,state:{registerEmail:"hello",registerPassword:"world",registerError:null,loginEmail:"hello",loginPassword:"world",loginError:null,token:null,currentProject:null},actions:{logout:function(t){var e=t.commit;e("setToken",null),e("setCurrentProject",null),gt.push("/login")},register:function(t){var e=t.commit,n=t.state;return e("setRegisterError",null),_t().post("/auth/register",{email:n.registerEmail,password:n.registerPassword}).then(function(t){var n=t.data;e("setToken",n.token),gt.push("/")}).catch(function(t){500===t.response.status&&(e("setRegisterError","User with this email is already exists"),console.log("User with this email is already exists"))})},login:function(t){var e=t.commit,n=t.state;return e("setLoginError",null),_t().post("/auth/login",{email:n.loginEmail,password:n.loginPassword}).then(function(t){var n=t.data;e("setToken",n.token),gt.push("/")}).catch(function(t){500===t.response.status&&e("setLoginError","An error has occured trying to login")})}},getters:{isLoggedIn:function(t){return!!t.token}},mutations:{setToken:function(t,e){t.token=e},setRegisterError:function(t,e){t.registerError=e},setRegisterEmail:function(t,e){t.registerEmail=e},setRegisterPassword:function(t,e){t.registerPassword=e},setLoginError:function(t,e){t.loginError=e},setLoginEmail:function(t,e){t.loginEmail=e},setLoginPassword:function(t,e){t.loginPassword=e},setCurrentProject:function(t,e){t.currentProject=e}}},Et={namespaced:!0,state:{projects:[],currentProject:null,newProjectName:null},actions:{saveProject:function(t,e){var n=t.commit;return _t().patch("projects/".concat(e.id),e).then(function(){n("unsetEditMode",e)})},deleteProject:function(t,e){var n=t.commit;return _t().delete("projects/".concat(e.id)).then(function(){n("removeProject",e)})},fetchProjects:function(t){var e=t.commit;return _t().get("/projects").then(function(t){var n=t.data;e("setProjects",n)})},createProject:function(t){var e=t.commit,n=t.state;return _t().post("/projects",{title:n.newProjectName}).then(function(t){var n=t.data;e("appendProject",n),e("setNewProjectName",null)})}},getters:{},mutations:{setCurrentProject:function(t,e){t.currentProject=e},setNewProjectName:function(t,e){t.newProjectName=e},appendProject:function(t,e){t.projects.push(e)},setProjects:function(t,e){t.currentProject=null,t.projects=e},setProjectTitle:function(t,e){var n=e.project,o=e.title;n.title=o},setEditMode:function(t,e){a["default"].set(e,"isEditMode",!0)},unsetEditMode:function(t,e){a["default"].set(e,"isEditMode",!1)},removeProject:function(t,e){t.currentProject=null,t.projects.splice(t.projects.indexOf(e),1)}}},wt={namespaced:!0,state:{tasks:[],newTaskName:null,currentProject:null},actions:{saveTask:function(t,e){var n=t.commit;return _t().patch("tasks/".concat(e.id),e).then(function(){n("unsetEditMode",e)})},deleteTask:function(t,e){var n=t.commit;return _t().delete("tasks/".concat(e.id)).then(function(){n("removeTask",e)})},fetchTasksForProject:function(t,e){var n=t.commit;return _t().get("projects/".concat(e.id,"/tasks")).then(function(t){var e=t.data;n("setTasks",e)})},createTask:function(t){var e=t.commit,n=t.state,o=t.rootState;return _t().post("/projects/".concat(o.projects.currentProject.id,"/tasks"),{description:n.newTaskName}).then(function(t){var n=t.data;e("appendTask",n),e("setNewTaskName",null)})}},getters:{},mutations:{setTasks:function(t,e){t.tasks=e},setNewTaskName:function(t,e){t.newTaskName=e},appendTask:function(t,e){t.tasks.push(e)},setTaskDescription:function(t,e){var n=e.task,o=e.description;n.description=o},setEditMode:function(t,e){a["default"].set(e,"isEditMode",!0)},unsetEditMode:function(t,e){a["default"].set(e,"isEditMode",!1)},removeTask:function(t,e){t.tasks.splice(t.tasks.indexOf(e),1)},toggleCompleted:function(t,e){e.completed=!e.completed}}};a["default"].use(f["a"]);var Ot=new f["a"].Store({strict:!0,state:{baseUrl:"/api"},modules:{authentication:Pt,projects:Et,tasks:wt},mutations:{},actions:{},plugins:[Object(jt["a"])()]});a["default"].config.productionTip=!1,a["default"].use(s.a),Object(o["sync"])(Ot,gt),a["default"].component("Panel",C),new a["default"]({router:gt,store:Ot,render:function(t){return t(_)}}).$mount("#app")},"56da":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var o=n("2856"),r=n.n(o);r.a},"60f8":function(t,e,n){"use strict";var o=n("4242"),r=n.n(o);r.a},"645c":function(t,e,n){"use strict";var o=n("7a8b"),r=n.n(o);r.a},"7a8b":function(t,e,n){},b9f2:function(t,e,n){},c93e2:function(t,e,n){"use strict";var o=n("56da"),r=n.n(o);r.a},d6db:function(t,e,n){"use strict";var o=n("05b0"),r=n.n(o);r.a},da8b:function(t,e,n){"use strict";var o=n("fea3"),r=n.n(o);r.a},df48:function(t,e,n){"use strict";var o=n("44e6"),r=n.n(o);r.a},e3a0:function(t,e,n){},f6ca:function(t,e,n){"use strict";var o=n("b9f2"),r=n.n(o);r.a},fea3:function(t,e,n){}});
//# sourceMappingURL=app.26b98d5f.js.map